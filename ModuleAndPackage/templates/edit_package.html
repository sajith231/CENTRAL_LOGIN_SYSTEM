{% extends 'base.html' %}
{% block content %}

<div class="card" style="padding:20px;">
    <h2 style="color: white;">Edit Package</h2>

    <form method="POST">
        {% csrf_token %}

        <!-- Package Name -->
        <div class="mb-3">
            <label>Package Name</label>
            <input type="text" name="package_name"
                   value="{{ package.package_name }}"
                   class="form-control" required
                   style="background:#0f1b31; color:white; border:1px solid #334155;">
        </div>

        <!-- Project (disabled) -->
        <div class="mb-3">
            <label>Project</label>
            <input type="text" class="form-control"
                   value="{{ package.project.project_name }}" disabled
                   style="background:#0f1b31; color:white; border:1px solid #334155;">
        </div>

        <!-- Modules Multi Select -->
        <div class="mb-3">
            <label>Select Modules</label>
            <select name="modules"
                    class="form-control"
                    multiple required
                    style="background:#0f1b31; color:white; border:1px solid #334155;">

                {% for module in modules %}
                <option value="{{ module.id }}"
                        {% if module in package.modules.all %}selected{% endif %}
                        style="background:#0f1b31; color:white;">
                    {{ module.module_name }}
                </option>
                {% endfor %}
            </select>
        </div>

        <!-- Days Limit -->
        <div class="mb-3">
            <label>Number of Days Limit</label>
            <input type="number" name="days_limit" class="form-control" 
                   value="{{ package.days_limit }}" min="0"
                   placeholder="0 = Unlimited"
                   style="background:#0f1b31; color:white; border:1px solid #334155;">
            <small style="color:#9ca3af;">Enter number of days before auto-deactivation. 0 means unlimited.</small>
        </div>

        <button class="btn btn-primary">Update</button>
    </form>
</div>

{% endblock %}
